<% if obj.errors.any? %>

  <div class="modal fade show" id="errorModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" style="display: block;" aria-modal="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="errorModalLabel">Please Fix the following errors:</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="alert alert-danger">
            <ul>
              <% obj.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
              <% end %>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    function closeModal(event) {
      console.log(event.currentTarget);

      let errorModal = document.querySelector('#errorModal');

      errorModal.classList.remove('show');
      errorModal.style.display = 'none';
      document.body.lastElementChild.remove();
    };

    document.addEventListener('DOMContentLoaded', function() {
      document.body.classList.add('modal-open');
      document.body.insertAdjacentHTML('beforeend', '<div class="modal-backdrop fade show"></div>')
    });

    errorModal.querySelector('span').addEventListener('click', closeModal)

  </script>

<% end %>